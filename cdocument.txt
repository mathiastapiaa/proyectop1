# Documentacion del Sistema de Citas Medicas (C++)

## Descripcion General
Este sistema permite gestionar citas medicas de manera sencilla, robusta y profesional. Permite agendar, mostrar, buscar, cancelar citas, asi como realizar y restaurar backups de la informacion. El sistema es seguro ante corrupcion de archivos y errores de entrada/salida.

## Estructura de Archivos
- **Cita.h / Cita.cpp**: Define la clase `Cita` y su serializacion/deserializacion.
- **Paciente.h / Paciente.cpp**: Define la clase `Paciente` (hereda de `Persona`).
- **Persona.h / Persona.cpp**: Define la clase base `Persona`.
- **Fecha.h / Fecha.cpp**: Manejo de fechas, validaciones y serializacion.
- **Hora.h / Hora.cpp**: Manejo de horas, validaciones y serializacion.
- **ListaDCircular.h**: Lista doblemente circular para almacenar las citas.
- **GestorCitas.h / GestorCitas.cpp**: Logica principal del sistema, menus, validaciones, backup y restauracion.
- **main.cpp**: Punto de entrada del programa.
- **IngresoDatosDLL.h / IngresoDatosDLL.cpp**: DLL para ingreso seguro de datos por consola.
- **data/citas.dat**: Archivo binario principal donde se guardan las citas.
- **data/citas_backup.dat**: Archivo de backup de las citas.

## Funcionalidades Principales
1. **Agendar cita**: Permite registrar una nueva cita medica para un paciente. Se valida que la fecha no sea fin de semana, feriado ni pasada.
2. **Mostrar citas**: Muestra todas las citas programadas.
3. **Borrar cita**: Permite cancelar una cita existente ingresando los datos correspondientes.
4. **Buscar por cedula**: Busca y muestra las citas asociadas a una cedula de paciente.
5. **Realizar backup**: Crea una copia de seguridad de todas las citas en `data/citas_backup.dat`.
6. **Restaurar desde backup**: Recupera todas las citas desde el archivo de backup si se pierde o da√±a el archivo principal.
7. **Salir**: Cierra el sistema de citas medicas.
8. **Ayuda**: Muestra una pantalla de ayuda con la descripcion de todas las opciones.

## Validaciones y Seguridad
- No se permite agendar citas en fines de semana ni feriados nacionales.
- Solo se permiten fechas validas y futuras para agendar citas.
- El sistema valida que no existan citas duplicadas para la misma cedula, fecha, hora y especialidad.
- El backup protege los datos ante perdidas o errores. Se puede restaurar el archivo principal desde el backup.
- Todas las clases que contienen strings implementan serializacion/deserializacion campo a campo para evitar corrupcion de datos.
- El ingreso de datos por consola es robusto ante entradas invalidas (por ejemplo, si se ingresa texto donde se espera un numero).

## Estructura de Clases
- **Persona**: nombre, cedula, fechaNacimiento. Metodos de serializacion y validacion.
- **Paciente**: hereda de Persona, agrega historialMedico.
- **Cita**: paciente, fecha, hora, especialidad, motivo. Serializacion segura.
- **Fecha**: dia, mes, anio. Validaciones, calculo de edad, serializacion.
- **Hora**: hora, minuto, segundo. Validaciones y serializacion.
- **ListaDCircular**: lista doblemente circular generica para almacenar citas.
- **GestorCitas**: logica de negocio, menus, backup, restauracion, validaciones.

## Archivos Binarios
- **citas.dat**: Archivo binario principal donde se guardan todas las citas.
- **citas_backup.dat**: Archivo de backup. Se puede restaurar el archivo principal desde este backup si se pierde o borra el original.

## Uso del Sistema
1. Ejecuta el programa principal (`GestorCitas.exe`).
2. Selecciona la opcion deseada del menu.
3. Sigue las instrucciones en pantalla para agendar, buscar, cancelar o restaurar citas.
4. Usa la opcion de ayuda para ver la descripcion de todas las funcionalidades.

## Notas
- El sistema no utiliza tildes ni caracteres especiales para evitar problemas de codificacion en consola.
- El backup y la restauracion son operaciones seguras y recomendadas antes de realizar cambios importantes.
- El sistema es multiplataforma, pero la integracion con DLL para ingreso de datos es especifica para Windows.

---

**Autor:** [Tu Nombre]
**Fecha:** 2025
